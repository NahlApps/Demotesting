function renderTimes(items){
  const cont = document.getElementById('time-container');
  cont.innerHTML = '';
  selectedTime = null;

  if (!items.length){
    cont.innerHTML = '<div class="text-center text-muted" style="grid-column:1/-1">لا توجد مواعيد متاحة</div>';
    return;
  }

  items.forEach(t=>{
    const isBooked = !!t.booked;

    const btn = document.createElement('button');
    btn.className = 'time-option';
    btn.type = 'button';

    // Accessible label includes status
    const statusText = isBooked ? 'Appointed' : 'Available';
    btn.setAttribute('aria-label', `${t.ui} — ${statusText}`);

    // Inner content: time + badge
    btn.innerHTML = `
      <div>${t.ui}</div>
      <span class="status-badge ${isBooked ? 'appointed' : 'available'}">${statusText}</span>
    `;

    if (isBooked){
      btn.setAttribute('aria-disabled','true');
      btn.disabled = true;
      btn.title = 'Appointed';
      // visual style already covered by CSS + disabled state
    } else {
      btn.setAttribute('role','radio');
      btn.addEventListener('click', ()=>{
        [...cont.children].forEach(x=>x.setAttribute('aria-checked','false'));
        btn.setAttribute('aria-checked','true');
        selectedTime = t;
        // keep HH:mm for API payload
        nForm.time = t.iso.slice(0,5);
      });
    }

    cont.appendChild(btn);
  });
}
